<ng-container *ngIf="existeError">
  <div class="mensajes-container">

    <app-errores-backend [mensaje]="error.msg" *ngFor="let error of errores"></app-errores-backend>
    <app-errores-backend [mensaje]="errorServidor" *ngIf="errorServidor.length > 0"></app-errores-backend>
  </div>


</ng-container>


<app-exito [mensaje]="msgExito" *ngIf="existeMsgExito"></app-exito>

<div class="flex" *ngIf="!showRegisterForm  &&  visitorTypes.length >0">
  <h1>Selecciona el tipo de usuario</h1>
  <ng-container *ngFor="let type of visitorTypes">
    <div [ngClass]="getClass(type.name)" (click)="openRegisterModal(type.uid)">
      {{type.name}}
    </div>

  </ng-container>




</div>


<div class="activity-grid" *ngIf="showRegisterForm">
  <div class="container">
    <div class="title">
      <h4 class="text-center">
        REGISTRO DE VISITANTES MEXCAL
      </h4>
    </div>
    <p>GENERAR UN CODIGO DE ACCESO PARA VISITANTES A GRUPO MEXCAL</p>
    <hr>
    <p>Se registrarán el nombre, la foto y el correo electrónico asociados con tu Cuenta de Google cuando subas archivos
      y envíes este formulario</p>
    <hr>
    <p class="required"> * Indica que la pregunta es obligatoria</p>
    <form [formGroup]="form" (ngSubmit)="submit()">
      <div class="user-details">

        <div class="group">
          <input type="email" formControlName="email" (keyup)="removerAlertas()">
          <span class="highlight"></span>
          <span class="bar"></span>
          <label>Correo electrónico *</label>
          <app-errores-frontend *ngIf="campoValido('email')"
            mensaje="Tiene que ser un correo valido"></app-errores-frontend>
        </div>

        <div class="group">
          <input type="text" formControlName="name" (keyup)="removerAlertas()">
          <span class="highlight"></span>
          <span class="bar"></span>
          <label>Nombre completo *</label>
          <app-errores-frontend *ngIf="campoValido('name')" mensaje="El campo es requerido"></app-errores-frontend>
        </div>

        <div class="group">
          <input type="text" formControlName="visit_company" (keyup)="removerAlertas()">
          <span class="highlight"></span>
          <span class="bar"></span>
          <label>Empresa de la que nos visitas</label>
          <app-errores-frontend *ngIf="campoValido('visit_company')" mensaje="Campo requerido"></app-errores-frontend>
        </div>

        <div class="group">
          <input type="datetime-local" formControlName="visit_date" (keyup)="removerAlertas()">
          <span class="highlight"></span>
          <span class="bar"></span>
          <label>FECHA Y HORA DE TU VISITA A MEXCAL *</label>
          <app-errores-frontend *ngIf="campoValido('visit_date')"
            mensaje="El campo es requerido"></app-errores-frontend>
        </div>

        <div class="group">
          <input type="text" formControlName="contact_name" (keyup)="removerAlertas()">
          <span class="highlight"></span>
          <span class="bar"></span>
          <label>NOMBRE DEL CONTACTO QUE VISITAS *</label>
          <app-errores-frontend *ngIf="campoValido('contact_name')"
            mensaje="El campo es requerido"></app-errores-frontend>
        </div>
        <div class="group">
          <input type="text" style="visibility: hidden;">
          <span class="highlight"></span>
          <span class="bar"></span>
          <label>DEPARTAMENTO AL QUE VISITAS *</label>
          <select name="" id="" class="controls select-absolute" formControlName="department_id">
            <option value="" disabled selected>--Seleccione departamento--</option>
            <option value="{{department.uid}}" *ngFor="let department of departments">{{department.name}}</option>
          </select>

          <app-errores-frontend *ngIf="campoValido('department_id')"
            mensaje="El campo es requerido"></app-errores-frontend>
        </div>



        <div class="group">
          <input type="text" style="visibility: hidden;">
          <span class="highlight"></span>
          <span class="bar"></span>
          <label>INGRESAS ALGO DE LO MENCIONADO? *</label>
          <select name="" id="" class="controls select-absolute" formControlName="enter_device">
            <option value="" disabled selected>--Seleccione tipo--</option>
            <option value="{{device.name}}" *ngFor="let device of devices">{{device.name}}</option>
          </select>

          <app-errores-frontend *ngIf="campoValido('enter_device')"
            mensaje="El campo es requerido"></app-errores-frontend>
        </div>





      </div>
      <div class="wrapper">
        <button href="#0" class="btn10">
          <span>REGISTRAR</span>
          <div class="transition"></div>
        </button>
      </div>

    </form>
  </div>
</div>